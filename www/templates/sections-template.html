<script type="text/html" id="sections-template">
    <!-- ko if: character.id !== 'Vault' || (character.id == 'Vault') -->
    <div class="title" data-bind="visible: bucketType !== 'Subclasses' && bucketType !== 'Post Master' && $root.searchKeyword() == ''">
        <span data-bind="text: bucketType"></span>
        <!-- ko if: ( character.id !== 'Vault' ) -->
        <!-- ko if: !(bucketType == 'Materials' || bucketType == 'Consumables' || bucketType == 'Post Master') -->
        (<span data-bind="text: character.get(bucketType).length+1"></span>/10)
        <!--/ko  -->
        <!-- ko if: (bucketType == 'Materials' || bucketType == 'Consumables') -->
        (<span data-bind="text: character.get(bucketType).length"></span>/15)
        <!--/ko  -->
        <!-- ko if: ( bucketType == 'Post Master' ) -->
        (<span data-bind="text: character.get(bucketType).length"></span>/20)
        <!--/ko  -->
        <!--/ko  -->
        <!-- ko if: ( character.id == 'Vault' ) -->
        (<span data-bind="text: character.get(bucketType).length"></span>/<span data-bind="text: tgd.DestinyWeaponPieces.indexOf(bucketType) > -1 ? 36 : 24"></span>)
        <!--/ko  -->
    </div>
    <div class="row no-gutter" style="margin:auto;" data-bind="moveItem: true">
        <div class="itemBucket" data-bind="css: ((character.id == 'Vault' || bucketType == 'Post Master' || bucketType == 'Consumables' || bucketType == 'Materials') ? 'col-xs-12' : 'col-xs-9') + ' ' + bucketType">
            <div data-bind="foreach: { data: character.get(bucketType), as: 'item' }">
                <span class="bucket-item" data-bind="css: ((character.id == 'Vault' || bucketType == 'Post Master'  || bucketType == 'Consumables' || bucketType == 'Materials') ? 'col-xs-3' : 'col-xs-4') + (isGridComplete ? ' complete' : ''), visible: isVisible">
					<a class="itemLink" data-bind="attr:{href:item.href, instanceId:item._id}">
						<img class="itemImage" data-bind="event: { error: $root.imgErrorHandler }, attr: { src: item.icon, instanceId:item._id }, fastclick: function(){ return false }">
					</a>
					<div class="attkIcon"><div data-bind="text: primaryStat, css: damageTypeName"></div></div>
				</span>
            </div>
        </div>
        <div style="padding-left: 4px;" class="bucket-item col-xs-3" data-bind="visible: character.id != 'Vault', with: character.itemEquipped(bucketType)">
            <span class="col-xs-12" data-bind="css: isGridComplete ? 'complete' : '', visible: isVisible">
		<a class="itemLink" data-bind="attr:{href:href, instanceId:_id}">
			<img class="itemImage" data-bind="attr: { src: icon, instanceId:_id }, fastclick: function(){ return false }">
		</a>
		<div class="attkIcon"><div data-bind="text: primaryStat, css: damageTypeName"></div></div>
	</span>
        </div>
    </div>
    <!--/ko  -->
</script>